digraph SimWorkflow {
	graph [bb="0,0,2196,1269.3",
		fontname=Helvetica,
		fontsize=36,
		label="Mu2e Simulation Workflow",
		labelloc=t,
		lheight=0.56,
		lp="1098,1245.3",
		lwidth=5.94
	];
	node [label="\N"];
	subgraph clusterLegend {
		graph [bb="8,955.76,146,1213.3",
			color=red,
			label=Legend,
			lheight=0.56,
			lp="77,1189.3",
			lwidth=1.69,
			rankdir=TB
		];
		Job	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
	  <tr><td align="center"><b>Job</b></td></tr>
	  <tr><td align="left"><font color="darkgreen">fhicl file</font></td></tr>
	  </table>>,
			pos="74,988.26",
			shape=box,
			width=0.94444];
		Dataset	[color=lightblue,
			height=0.96245,
			label=<<table border="0" cellborder="0" cellspacing="1">
	      <tr><td align="center"><b>Dataset</b></td></tr>
	      <tr><td align="left"><font color="red">SAM name</font></td></tr>
	      </table>>,
			pos="77,1122.7",
			shape=oval,
			width=1.6892];
		Dataset -> Job	[label=Mixin,
			lp="60,1062.6",
			pos="e,56.086,1013 52.652,1090.9 48.676,1084.4 45.157,1077.2 43,1070.1 38.19,1054 43.459,1036.6 50.937,1022.1",
			style=dashed];
		Dataset -> Job	[label=Main,
			lp="93,1062.6",
			pos="e,75.344,1013 77.299,1087.8 77.311,1077.3 77.243,1065.7 77,1055.1 76.764,1044.7 76.32,1033.4 75.844,1023.2",
			style=solid];
	}
	subgraph Campaign {
		{
			graph [rank=same];
			IPAStops	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
	       <tr><td align="center"><b>IPA Stops</b></td></tr>
	       <tr><td align="left"><font color="red">sim.mu2e.IPAStops.art</font></td></tr>
	       </table>>,
				pos="1353,737.68",
				shape=oval,
				width=2.9659];
			CosmicStage1Output	[color=lightblue,
				height=1.1847,
				label=<<table border="0" cellborder="0" cellspacing="1">
		    <tr><td align="center"><b>Cosmic generation output</b></td></tr>
		    <tr><td align="left"><font color="red">sim.mu2e.CosmicDSStopsX.art, X &isin; [CORSIKA, CRY, ...]</font></td></tr>
		    </table>>,
				peripheries=3,
				pos="1937,737.68",
				shape=oval,
				width=7.1951];
		}
		{
			graph [rank=same];
			EarlyFlashPileup	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>Early Flash Pileup</b></td></tr>
		      <tr><td align="left"><font color="red">dts.mu2e.EarlyFlash.art</font></td></tr>
		      </table>>,
				pos="482,493.24",
				shape=oval,
				width=3.0052];
			FlashPileup	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>Flash Pileup</b></td></tr>
		      <tr><td align="left"><font color="red">dts.mu2e.Flash.art</font></td></tr>
		      </table>>,
				pos="268,493.24",
				shape=oval,
				width=2.4356];
			CosmicPrimary	[color=lightblue,
				height=1.1847,
				label=<<table border="0" cellborder="0" cellspacing="1">
		    <tr><td align="center"><b>Cosmic Ray Primary</b></td></tr>
		    <tr><td align="left"><font color="red">dts.mu2e.X.art, X &isin; [CORSIKA, CRY, ...] </font></td></tr>
		    </table>>,
				peripheries=3,
				pos="1937,493.24",
				shape=oval,
				width=5.4273];
			IPAPrimary	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
		 <tr><td align="center"><b>IPA Muon Primary</b></td></tr>
		 <tr><td align="left"><font color="red">dts.mu2e.IPAmu.art </font></td></tr>
		 </table>>,
				pos="1626,493.24",
				shape=oval,
				width=2.7106];
			MuonPrimary	[color=lightblue,
				height=1.1847,
				label=<<table border="0" cellborder="0" cellspacing="1">
		  <tr><td align="center"><b>Target Muon Primary</b></td></tr>
		  <tr><td align="left"><font color="red">dts.mu2e.X.art, X &isin;[CeMinus, CePlus, ...] </font></td></tr>
		  </table>>,
				peripheries=3,
				pos="1314,493.24",
				shape=oval,
				width=5.4666];
			TargetMuonPileup	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
			   <tr><td align="center"><b>Target Muon Pileup </b></td></tr>
			   <tr><td align="left"><font color="red">dts.mu2e.mu.art</font></td></tr>
			   </table>>,
				pos="997,493.24",
				shape=oval,
				width=2.8284];
			OutOfTargetMuonPileup	[color=lightblue,
				height=0.96245,
				label=<<table border="0" cellborder="0" cellspacing="1">
				<tr><td align="center"><b>Out Of Target Muon Pileup </b></td></tr>
				<tr><td align="left"><font color="red">dts.mu2e.ootmu.art</font></td></tr>
				</table>>,
				pos="743,493.24",
				shape=oval,
				width=3.732];
		}
		{
			graph [rank=same];
			MixDigitization	[color=blue,
				height=0.68056,
				label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b> Primary + Pileup Digitization </b></td></tr>
		      <tr><td align="left"><font color="darkgreen">mixing/mix.fcl</font></td></tr>
		      </table>>,
				peripheries=1,
				pos="1007,365.09",
				shape=box,
				width=2.8194];
			NomixDigitization	[color=blue,
				height=0.95833,
				label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b> Primary Only Digitization </b></td></tr>
		      <tr><td align="left"><font color="darkgreen">digitize/OnSpill.fcl</font></td></tr>
		      <tr><td align="left"><font color="darkgreen">digitize/OffSpill.fcl</font></td></tr>
		      </table>>,
				peripheries=1,
				pos="1602,365.09",
				shape=box,
				width=2.5556];
		}
		POT	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
	  <tr><td align="center"><b>Protons On Target</b></td></tr>
	  <tr><td align="left"><font color="darkgreen">beam/POT.fcl</font></td></tr>
	  </table>>,
			pos="534,1122.7",
			shape=box,
			width=1.8194];
		Beam	[color=lightblue,
			height=1.3553,
			label=<<table border="0" cellborder="0" cellspacing="1">
	   <tr><td align="center"><b>Meson Beam</b></td></tr>
	   <tr><td align="left"><font color="red">sim.mu2e.MuBeam.art</font></td></tr>
	   <tr><td align="left"><font color="yellow">sim.mu2e.PiBeam.art</font></td></tr>
	   </table>>,
			pos="833,988.26",
			shape=oval,
			width=2.9659];
		POT -> Beam	[label="At TS5",
			lp="827,1062.6",
			pos="e,818.86,1036.7 599.65,1115.4 666.44,1107.8 764.25,1093.1 794,1070.1 802.31,1063.6 808.94,1055 814.22,1045.7"];
		Flash	[color=lightblue,
			height=0.96245,
			label=<<table border="0" cellborder="0" cellspacing="1">
		<tr><td align="center"><b>Flash</b></td></tr>
		<tr><td align="left"><font color="red">sim.mu2e.FlashBeam.art</font></td></tr>
		</table>>,
			pos="268,988.26",
			shape=oval,
			width=3.1623];
		POT -> Flash	[label="At TS5 + CRV, t > 300? ns",
			lp="454.5,1062.6",
			pos="e,305.64,1021.2 468.47,1104.7 440.15,1096.2 407.12,1084.5 379,1070.1 356.19,1058.3 332.94,1042.2 313.65,1027.4"];
		EarlyFlash	[color=lightblue,
			height=0.96245,
			label=<<table border="0" cellborder="0" cellspacing="1">
		 <tr><td align="center"><b>Early Flash</b></td></tr>
		 <tr><td align="left"><font color="red">sim.mu2e.EarlyFlashBeam.art</font></td></tr>
		 </table>>,
			pos="534,988.26",
			shape=oval,
			width=3.732];
		POT -> EarlyFlash	[label=< At TS5 + CRV, 300 &gt; t &gt; 0 ns, prescale 10<sup>-4</sup>?>,
			lp="662,1062.6",
			pos="e,534,1023.2 534,1098 534,1080.1 534,1055 534,1033.4"];
		StopPositionResampling	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
			     <tr><td align="center"><b>Particle Stopper</b></td></tr>
			     <tr><td align="left"><font color="darkgreen">beam/ParticleStopper.fcl</font></td></tr>
			     </table>>,
			pos="990,855.97",
			shape=box,
			width=2.1806];
		Beam -> StopPositionResampling	[label=<resample 10<sup>+4</sup>?>,
			lp="973.5,913.97",
			pos="e,961.68,880.47 883.97,944.96 906.74,926.07 933.04,904.24 953.75,887.05"];
		FlashResampling	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>Flash Resampling</b></td></tr>
		      <tr><td align="left"><font color="darkgreen">pileup/FlashResampler.fcl</font></td></tr>
		      </table>>,
			pos="268,855.97",
			shape=box,
			width=2.2917];
		Flash -> FlashResampling	[label=<t &gt; 450 ns, resample 10<sup>+4</sup>?>,
			lp="343,913.97",
			pos="e,268,880.83 268,953.37 268,934.16 268,910.19 268,890.96"];
		EarlyFlashResampling	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>Early Flash Resampling</b></td></tr>
		      <tr><td align="left"><font color="darkgreen">pileup/EarlyFlashResampler.fcl</font></td></tr>
		      </table>>,
			pos="515,855.97",
			shape=box,
			width=2.6944];
		EarlyFlash -> EarlyFlashResampling	[label=<tracker only, resample 10<sup>+4</sup>?>,
			lp="602.5,913.97",
			pos="e,518.48,880.83 529.06,953.37 526.26,934.16 522.76,910.19 519.96,890.96"];
		EarlyFlashResampling -> EarlyFlashPileup	[label=<selected straws>,
			lp="539,663.39",
			pos="e,485.08,527.92 512.83,831.3 507.39,771.8 493.07,615.22 486.03,538.24"];
		FlashResampling -> FlashPileup	[pos="e,268,527.92 268,831.3 268,771.8 268,615.22 268,538.24"];
		TargetStops	[color=lightblue,
			height=1.3553,
			label=<<table border="0" cellborder="0" cellspacing="1">
		  <tr><td align="center"><b>Target Stops</b></td></tr>
		  <tr><td align="left"><font color="red">sim.mu2e.MuTargetStops.art</font></td></tr>
		  <tr><td align="left"><font color="yellow">sim.mu2e.PiTargetStops.art</font></td></tr>
		  </table>>,
			pos="1023,737.68",
			shape=oval,
			width=3.6141];
		StopPositionResampling -> TargetStops	[pos="e,1009.4,786.68 996.68,831.44 999.56,821.28 1003.1,808.9 1006.6,796.54"];
		OutOfTargetStops	[color=lightblue,
			height=0.96245,
			label=<<table border="0" cellborder="0" cellspacing="1">
		       <tr><td align="center"><b>Out Of Target (OOT) Stops</b></td></tr>
		       <tr><td align="left"><font color="red">sim.mu2e.MuOOTStops.art</font></td></tr>
		       </table>>,
			pos="743,737.68",
			shape=oval,
			width=3.6534];
		StopPositionResampling -> OutOfTargetStops	[pos="e,805.64,768.17 940.02,831.44 904.05,814.5 855.01,791.42 814.85,772.51"];
		StopPositionResampling -> IPAStops	[pos="e,1278.4,762.58 1063.5,831.44 1122.8,812.41 1206.5,785.61 1268.6,765.71"];
		EarlyFlashPileup -> MixDigitization	[label=<resample 10<sup>+4</sup>?>,
			lp="776.5,425.09",
			pos="e,905.32,383.28 550.45,466.33 566.57,460.72 583.78,455.12 600,450.59 698.69,423.07 813.1,400.08 895.44,385.07",
			style=dashed];
		FlashPileup -> MixDigitization	[label=<resample 10<sup>+4</sup>?>,
			lp="545.5,425.09",
			pos="e,905.35,370.31 322.51,465.94 336.14,460.18 350.9,454.61 365,450.59 546.21,399.03 765.29,378.76 895.01,370.92",
			style=dashed];
		PrimaryMuonTerm	[color=blue,
			height=0.90278,
			label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>&mu; on Al to X &isin; [Ce<sup>-</sup>, Ce<sup>+</sup>, DIO Tail, Internal RPC, ...] </b></td></tr>
		      <tr><td align="left"><font color="darkgreen">primary/X.fcl, X &isin; [CeMinus, CePlus, DIOTail, ...]</font></td></tr>
		      </table>>,
			peripheries=3,
			pos="1290,605.39",
			shape=box,
			width=4.9722];
		TargetStops -> PrimaryMuonTerm	[label=<resample 10<sup>+3</sup>?>,
			lp="1231.5,663.39",
			pos="e,1225.2,638.01 1101.3,698.47 1137.5,680.82 1180.2,659.98 1215.8,642.59"];
		PileupMuonTerm	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
			 <tr><td align="center"><b>&mu; to X &isin; [P, D, N,&gamma;, e &nu;]  </b></td></tr>
			 <tr><td align="left"><font color="darkgreen">pileup/mustop.fcl</font></td></tr>
			 </table>>,
			pos="1003,605.39",
			shape=box,
			width=2.4028];
		TargetStops -> PileupMuonTerm	[label=<resample 10<sup>+3</sup>?>,
			lp="1055.5,663.39",
			pos="e,1006.6,630.05 1015.7,688.9 1013.2,672.77 1010.5,655.11 1008.2,640.28"];
		OutOfTargetMuonTerm	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
			  <tr><td align="center"><b>OOT &mu; decay (G4)</b></td></tr>
			  <tr><td align="left"><font color="darkgreen">pileup/OOTmustop.fcl</font></td></tr>
			  </table>>,
			pos="743,605.39",
			shape=box,
			width=2.0278];
		OutOfTargetStops -> OutOfTargetMuonTerm	[label=<resample 10<sup>+3</sup>?>,
			lp="786.5,663.39",
			pos="e,743,630.25 743,702.79 743,683.57 743,659.61 743,640.38"];
		IPAMuonTerm	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
		  <tr><td align="center"><b>IPA Muon Termination</b></td></tr>v
		  <tr><td align="left"><font color="darkgreen">primary/IPAmustop.fcl</font></td></tr></table>>,
			pos="1584,605.39",
			shape=box,
			width=2.2083];
		IPAStops -> IPAMuonTerm	[label=<resample 10<sup>+3</sup>?>,
			lp="1538.5,663.39",
			pos="e,1542.1,630.04 1405.1,707.28 1443.4,685.67 1495.2,656.46 1533.2,635.03"];
		PrimaryMuonTerm -> MuonPrimary	[pos="e,1304.9,536.08 1296.9,572.83 1298.7,564.42 1300.7,555.12 1302.7,545.94"];
		PileupMuonTerm -> TargetMuonPileup	[pos="e,998.85,528.28 1001.7,580.76 1001,568.45 1000.2,552.99 999.41,538.55"];
		OutOfTargetMuonTerm -> OutOfTargetMuonPileup	[pos="e,743,528.28 743,580.76 743,568.45 743,552.99 743,538.55"];
		IPAMuonTerm -> IPAPrimary	[pos="e,1613.2,527.86 1593,580.76 1597.8,568.11 1603.9,552.12 1609.6,537.35"];
		CosmicStage0	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
                        <tr><td align="center"><b>CORSIKA executable</b></td></tr>
                        <tr><td align="left">./corsika77400Linux_QGSJET_fluka &lt; input_configuration</td></tr>
                        </table>>,
			peripheries=1,
			pos="1937,1122.7",
			shape=box,
			width=4.8194];
		CORSIKAOutput	[color=lightblue,
			height=0.96245,
			label=<<table border="0" cellborder="0" cellspacing="1">
		    <tr><td align="center"><b>CORSIKA binaries</b></td></tr>
		    <tr><td align="left"><font color="red">sim.mu2e.CORSIKA.csk</font></td></tr>
		    </table>>,
			peripheries=1,
			pos="1937,988.26",
			shape=oval,
			width=3.182];
		CosmicStage0 -> CORSIKAOutput	[pos="e,1937,1023.2 1937,1098 1937,1080.1 1937,1055 1937,1033.4"];
		CosmicGenerator	[color=blue,
			height=0.90278,
			label=<<table border="0" cellborder="0" cellspacing="1">
		      <tr><td align="center"><b>CORSIKA, CRY, ... generation</b></td></tr>
		      <tr><td align="left"><font color="darkgreen">cosmic/cosmic_s1_dsstops_X.fcl, X &isin; [CORSIKA, CRY, ...]</font></td></tr>
		      </table>>,
			peripheries=3,
			pos="1937,855.97",
			shape=box,
			width=5.2361];
		CORSIKAOutput -> CosmicGenerator	[pos="e,1937,888.9 1937,953.37 1937,936.73 1937,916.52 1937,898.92"];
		CosmicGenerator -> CosmicStage1Output	[pos="e,1937,780.46 1937,823.19 1937,813.1 1937,801.67 1937,790.54"];
		CosmicStage2	[color=blue,
			height=0.90278,
			label=<<table border="0" cellborder="0" cellspacing="1">
            <tr><td align="center"><b>Cosmic resampling</b></td></tr>
            <tr><td align="left"><font color="darkgreen">cosmic/cosmic_s2_resampler_X.fcl, X &isin; [hi, lo]</font></td></tr>
            </table>>,
			peripheries=3,
			pos="1937,605.39",
			shape=box,
			width=4.2917];
		CosmicStage1Output -> CosmicStage2	[pos="e,1937,637.92 1937,694.74 1937,679.89 1937,663.2 1937,648.35"];
		CosmicStage2 -> CosmicPrimary	[pos="e,1937,536.08 1937,572.83 1937,564.51 1937,555.32 1937,546.24"];
		CosmicPrimary -> MixDigitization	[pos="e,1108.7,375.16 1800.4,462.68 1777.9,458.3 1754.9,454.09 1733,450.59 1516.6,415.97 1261.7,389.6 1118.8,376.11"];
		CosmicPrimary -> NomixDigitization	[pos="e,1694,387.54 1866.8,453.24 1842.6,440.78 1815,427.63 1789,417.59 1761.9,407.14 1731.8,397.88 1703.8,390.2"];
		IPAPrimary -> MixDigitization	[pos="e,1108.6,376.42 1565.6,465.99 1550.9,460.3 1535.1,454.74 1520,450.59 1384.3,413.2 1223.5,390.01 1118.6,377.59"];
		IPAPrimary -> NomixDigitization	[pos="e,1608.4,399.99 1619.6,458.44 1616.7,443.59 1613.4,425.96 1610.4,410.11"];
		MuonPrimary -> MixDigitization	[pos="e,1064.6,389.76 1224,455.24 1176,435.54 1118,411.7 1074,393.64"];
		MuonPrimary -> NomixDigitization	[pos="e,1525.5,399.59 1399.6,454.73 1436.5,438.6 1479.4,419.78 1516.3,403.64"];
		TargetMuonPileup -> MixDigitization	[label=<resample 10<sup>+4</sup>?>,
			lp="1045.5,425.09",
			pos="e,1005.1,389.61 999.68,458.44 1001.1,440.26 1002.9,417.91 1004.3,399.75",
			style=dashed];
		OutOfTargetMuonPileup -> MixDigitization	[label=<resample 10<sup>+4</sup>?>,
			lp="941.5,425.09",
			pos="e,957.53,389.73 805.23,462.51 848.55,441.81 905.93,414.39 948.42,394.08",
			style=dashed];
		MixedDigis	[color=lightblue,
			height=1.1847,
			label=<<table border="0" cellborder="0" cellspacing="1">
		 <tr><td align="center"><b>Mixed Digis</b></td></tr>
		 <tr><td align="left"><font color="red">dig.mu2e.XMix.art, X &isin; [CeMinus, CORSIKA, ...]</font></td></tr>
		 </table>>,
			peripheries=3,
			pos="1117,250.94",
			shape=oval,
			width=6.3308];
		MixDigitization -> MixedDigis	[pos="e,1076.6,293.1 1030.1,340.58 1041.5,328.88 1055.9,314.28 1069.5,300.32"];
		UnmixedDigis	[color=lightblue,
			height=1.1847,
			label=<<table border="0" cellborder="0" cellspacing="1">
		   <tr><td align="center"><b>Unmixed Digis</b></td></tr>
		   <tr><td align="left"><font color="red">dig.mu2e.X.art, X &isin; [CeMinus, CORSIKA, ...]</font></td></tr>
		   </table>>,
			peripheries=3,
			pos="1592,250.94",
			shape=oval,
			width=5.8594];
		NomixDigitization -> UnmixedDigis	[pos="e,1595.7,293.92 1599,330.44 1598.3,322.1 1597.4,312.96 1596.6,303.97"];
		Reconstruction	[color=blue,
			height=0.68056,
			label=<<table border="0" cellborder="0" cellspacing="1">
		     <tr><td align="center"><b> Reconstruction </b></td></tr>
		     <tr><td align="left"><font color="darkgreen">reco/reco.fcl </font></td></tr>
		     </table>>,
			peripheries=1,
			pos="1345,146.8",
			shape=box,
			width=1.6389];
		UnmixedDigis -> Reconstruction	[pos="e,1402,171.38 1501.1,212.34 1471.4,200.08 1439.1,186.7 1411.5,175.32"];
		MixedDigis -> Reconstruction	[pos="e,1292.4,171.35 1203.2,211.33 1229.8,199.4 1258.6,186.52 1283.2,175.48"];
		Reco	[color=lightblue,
			height=1.1847,
			label=<<table border="0" cellborder="0" cellspacing="1">
	   <tr><td align="center"><b>Reconstructed Events (Tracks, CaloClusters, CRVClusters, ...)</b></td></tr>
	   <tr><td align="left"><font color="red">mcs.mu2e.X.art, X &isin; [CeMinus, CORSIKA, ...]</font></td></tr>
	   </table>>,
			peripheries=3,
			pos="1345,42.648",
			shape=oval,
			width=7.8433];
		Reconstruction -> Reco	[pos="e,1345,85.638 1345,122.1 1345,114.14 1345,104.92 1345,95.65"];
	}
}
